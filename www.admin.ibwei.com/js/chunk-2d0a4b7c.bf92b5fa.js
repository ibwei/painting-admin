(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4b7c"],{"0842":function(e,t,a){"use strict";a.r(t);a("b488"),a("2ccf");var s=a("d175"),i=(a("f328"),a("b695")),r=(a("e8fa"),a("eef3")),l=(a("43a3"),a("1b2f")),o=a("2905"),n=a("6852"),d=a("ff2b"),c=a("3840"),u=a("dad6"),p=a("ace7"),h=a("d11d"),m=a("3756"),f=(a("2e5f"),function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(d["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.filterParams={name:"",address:[],createtime:[],startTime:"",endTime:""},e.BackParams={code:"data.result.resultCode",codeOK:0,message:"data.result.resultMessage",data:"data.entity.data",total:"data.entity.total"},e.outParams={},e.filterList=[{key:"name",label:"name",type:"input",placeholder:"请输入隐患名"},{key:"createtime",label:"Createtime",type:"datetimerange",placeholder:["开始时间","结束时间"],value:["startTime","endTime"]}],e.tableList=[{title:"隐患名",dataIndex:"name"},{title:"隐患内容",dataIndex:"detail",width:"300px"},{title:"上报时间",dataIndex:"createTime"},{title:"审核状态",dataIndex:"status",customRender:e.typeRender}],e.opreat=[{key:"edit",rowKey:"id",color:function(e){return 0===e.status?"blue":1===e.status?"gray":"green"},text:function(e){return 0===e.status?"去处理":1===e.status?"查看详情":"查看结果"},roles:!0}],e.title="新增隐患",e.visible=!1,e.modelType="add",e.editData={},e.openType="",e.popoverVisible=!1,e.deviceName="隐患",e}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"imageRender",value:function(e){var t=this.$createElement;return t("img",{attrs:{src:e}})}},{key:"typeRender",value:function(e,t){var a=this.$createElement,s=null;return s=0===e?a("a-tag",{attrs:{color:"red"}},["未提交处理"]):1===e?a("a-tag",{attrs:{color:"blue"}},["审核中"]):a("a-tag",{attrs:{color:"green"}},["审核完成"]),s}},{key:"showSuccesResult",value:function(e){var t=this.$createElement;l["a"].info({title:"处理隐患",content:t("div",{},[t("p","some messages...some messages...")]),onOk:function(){}})}},{key:"tableClick",value:function(e,t){var a=this,s=JSON.parse(JSON.stringify(t));switch(e){case"edit":1===t.status&&(this.openType="read",this.title="隐患详情"),0===t.status&&(this.openType="edit",this.title="处理隐患"),2===t.status&&(this.openType="read",this.title="查看处理结果"),this.editData=s,this.visible=!0,this.modelType="edit";break;case"delete":window.api.deviceBaseInfoDelete({id:t.id}).then((function(e){var t=e.data.err_code;0===t?(a.$message.success("删除成功"),a.success()):a.$message.error("删除失败")}));break;default:break}}},{key:"add",value:function(){this.title="添加隐患",this.modelType="add",this.visible=!0,this.editData={}}},{key:"closeModal",value:function(){this.visible=!1,this.editData={}}},{key:"hideMapModal",value:function(){this.popoverVisible=!1}},{key:"showMapModal",value:function(e){this.position=e.position,this.deviceName=e.name,this.popoverVisible=!0}},{key:"success",value:function(){this.visible=!1;var e=this.$refs.baseInfoTable;this.editData={},e.reloadTable()}},{key:"render",value:function(){var e=arguments[0];return e("div",{class:"baseInfo-wrap"},[e("filter-table",{ref:"baseInfoTable",attrs:{tableList:this.tableList,filterList:this.filterList,filterGrade:[],scroll:{x:900},url:"/dangerMessage/list",filterParams:this.filterParams,outParams:this.outParams,addBtn:!1,exportBtn:!1,dataType:"json",rowKey:"id",opreat:this.opreat,fetchType:"post",backParams:this.BackParams},on:{menuClick:this.tableClick,add:this.add}}),this.visible?e("info-modal",{attrs:{title:this.title,position:this.position,visible:this.visible,type:this.modelType,openType:this.openType,data:this.editData},on:{close:this.closeModal,success:this.success}}):""])}}]),t}(h["d"]));f=p["a"]([Object(h["a"])({name:"message",components:{"a-tag":r["a"],"info-modal":m["default"],"a-popover":i["a"],"a-button":s["a"]}})],f),t["default"]=f}}]);
//# sourceMappingURL=chunk-2d0a4b7c.bf92b5fa.js.map