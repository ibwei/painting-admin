(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bd45808","chunk-0039c413","chunk-77043ce1"],{"60b2":function(e,t,a){"use strict";a.r(t);a("6c01");var i=a("3159"),s=(a("2ccf"),a("d175")),r=(a("43a3"),a("1b2f")),o=(a("e8fa"),a("eef3")),n=a("2905"),c=a("6852"),d=a("ff2b"),l=a("3840"),u=a("dad6"),p=a("ace7"),f=a("d11d"),b=a("7859"),h=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(d["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.filterParams={name:"",address:[],createtime:[],startTime:"",endTime:""},e.BackParams={code:"data.resultCode",codeOK:0,message:"data.resultMessage",data:"data.data",total:"data.total"},e.outParams={},e.filterList=[{key:"name",label:"name",type:"input",placeholder:"请输入反馈内容"},{key:"createtime",label:"Createtime",type:"datetimerange",placeholder:["开始时间","结束时间"],value:["startTime","endTime"]}],e.tableList=[{title:"序号",dataIndex:"id"},{title:"姓名",dataIndex:"name",customRender:e.nameRender},{title:"电话",dataIndex:"phone"},{title:"微信号",dataIndex:"wechat"},{title:"电子邮箱",dataIndex:"email"},{title:"用户设备",dataIndex:"device",customRender:e.device},{title:"内容",dataIndex:"content",width:"300px"},{title:"反馈时间",dataIndex:"created_at"}],e.opreat=[{key:"edit",rowKey:"id",color:function(e){return 0===e.status?"blue":"green"},text:function(e){return 0===e.status?"去处理":"查看结果"},roles:!0,popconfirm:!1},{key:"delete",rowKey:"id",color:"red",text:"删除",roles:!0,msg:"确定删除？"}],e.changeVis=!1,e.detailVis=!1,e.title="新增区域",e.visible=!1,e.modelType="add",e.editData={},e.dataSource=[],e.openType="",e.type="",e}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"handleOk",value:function(){this.detailVis=!0}},{key:"nameRender",value:function(e,t){var a=this.$createElement;return a("a-tag",{attrs:{color:"green"}},[e])}},{key:"device",value:function(e){var t=this.$createElement;return 0===e?t("a-tag",{attrs:{color:"green"}},["手机"]):t("a-tag",{attrs:{color:"blue"}},["PC"])}},{key:"handleCancel",value:function(){this.detailVis=!1}},{key:"tableClick",value:function(e,t){var a=this,i=JSON.parse(JSON.stringify(t));switch(this.type=t.type,e){case"edit":this.editData=i,this.visible=!0,0===t.status?this.title="处理反馈":this.title="查看反馈处理结果",this.type="edit";break;case"delete":window.api.feedbackDelete({id:t.id}).then((function(e){var t=e.data.resultCode;0===t?(a.$message.success("删除成功"),a.success()):a.$message.error("删除失败")}));break;default:break}}},{key:"add",value:function(){this.title="新增反馈",this.type="add",this.visible=!0,this.editData={}}},{key:"closeModal",value:function(){this.visible=!1,this.editData={}}},{key:"success",value:function(){this.visible=!1;var e=this.$refs.baseInfoTable;this.editData={},e.reloadTable()}},{key:"render",value:function(){var e=arguments[0];return e("div",{class:"baseInfo-wrap"},[e("filter-table",{ref:"baseInfoTable",attrs:{tableList:this.tableList,filterList:this.filterList,filterGrade:[],scroll:{x:900},url:"/feedback/feedbackList",filterParams:this.filterParams,outParams:this.outParams,addBtn:!1,exportBtn:!1,opreatWidth:"120px",dataType:"json",rowKey:"id",opreat:this.opreat,fetchType:"post",backParams:this.BackParams},on:{menuClick:this.tableClick,add:this.add}}),this.visible?e("info-modal",{on:{close:this.closeModal,success:this.success},attrs:{data:this.editData,type:this.type,title:this.title,visible:this.visible}}):""])}}]),t}(f["d"]);h=p["a"]([Object(f["a"])({name:"feedback",components:{"a-tag":o["a"],"info-modal":b["default"],"a-modal":r["a"],"a-button":s["a"],"a-table":i["a"]}})],h),t["default"]=h},7859:function(e,t,a){"use strict";a.r(t);a("0aa0"),a("0943"),a("1e85"),a("f5f0"),a("89f7"),a("1d14"),a("eb0f");var i=a("6980"),s=(a("05e4"),a("40a0")),r=(a("b405"),a("0d4d")),o=(a("9961"),a("1000")),n=(a("565b"),a("f2a3")),c=(a("2ccf"),a("d175")),d=(a("342f"),a("b483")),l=(a("953a"),a("a793")),u=(a("43a3"),a("1b2f")),p=a("f010"),f=a("2905"),b=a("6852"),h=a("ff2b"),m=a("3840"),v=a("dad6"),y=a("ace7"),k=a("d11d");a("aa19");function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=function(e){function t(){var e;return Object(f["a"])(this,t),e=Object(h["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.formItemLayout={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},e.spinShow=!1,e}return Object(v["a"])(t,e),Object(b["a"])(t,[{key:"submit",value:function(){var e=this;this.$props.Form.validateFields((function(t,a){if(!t)if("edit"===e.type){if(1===e.data.status)return e.cancel(),!1;window.api.feedbackUpdate({id:e.data.id,result:e.data.result}).then((function(t){e.spinShow=!1;var a=t.data,i=a.resultCode,s=a.resultMessage;i?e.$message.error(s):(e.$message.success(s),e.Form.resetFields(),e.$emit("success"))}))}else"add"===e.type&&window.api.feedbackAdd(a).then((function(t){var a=t.data,i=a.err_code,s=a.result.resultMessage;i?e.$message.error(s):(e.$message.success(s),e.Form.resetFields(),e.$emit("success"))}))}))}},{key:"cancel",value:function(){this.$emit("close")}},{key:"resultChange",value:function(e){this.data.result=e.target.value}},{key:"render",value:function(){var e=arguments[0];this.Form.getFieldDecorator;return e("a-modal",{attrs:{title:this.title,visible:this.visible},on:{ok:this.submit,cancel:this.cancel}},[this.spinShow?e("div",{class:"spin"},[e("a-spin",{attrs:{tip:"正在发送邮件,请稍后..."}})]):"",e("a-form",[0===this.data.status?e("a-form-item",{props:g({},this.formItemLayout),attrs:{label:"回复该反馈"}},[e("a-textarea",{on:{change:this.resultChange},attrs:{placeholder:"如需回复,请在此输入回复内容,内容将以邮件方式通知反馈人。不需要回复,请直接点击确定按扭。",rows:5}})]):e("div",[e("a-form-item",{props:g({},this.formItemLayout),attrs:{label:"处理结果"}},[e("div",[this.data.result?this.data.result:"默认处理,没有回复任何内容 ."])]),e("a-form-item",{props:g({},this.formItemLayout),attrs:{label:"处理时间"}},[e("div",[this.data.updated_at])])])])])}}]),t}(k["d"]);y["a"]([Object(k["c"])()],j.prototype,"title",void 0),y["a"]([Object(k["c"])()],j.prototype,"visible",void 0),y["a"]([Object(k["c"])()],j.prototype,"type",void 0),y["a"]([Object(k["c"])()],j.prototype,"data",void 0),j=y["a"]([Object(k["a"])({components:{"a-modal":u["a"],"a-form":l["a"],"a-form-item":l["a"].Item,"a-input":d["a"],"a-button":c["a"],"a-input-number":n["a"],"a-radio":o["a"],"a-radio-group":o["a"].Group,"a-date-picker":r["a"],"a-cascader":s["a"],"a-textarea":d["a"].TextArea,"a-spin":i["a"]},props:{Form:l["a"]}})],j),t["default"]=l["a"].create({props:{title:String,visible:Boolean,type:String,data:Object}})(j)},aa19:function(e,t,a){}}]);
//# sourceMappingURL=chunk-1bd45808.7f751797.js.map