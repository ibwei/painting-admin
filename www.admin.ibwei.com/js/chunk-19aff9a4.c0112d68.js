(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19aff9a4","chunk-7491ab5f"],{"0695":function(e,t,r){"use strict";r.r(t);r("0aa0"),r("0943"),r("b488"),r("1e85"),r("f5f0"),r("89f7"),r("1d14"),r("3093");var a=r("3660"),o=(r("342f"),r("b483")),n=(r("2ccf"),r("d175")),i=(r("953a"),r("a793")),s=r("f010"),c=r("2905"),u=r("6852"),f=r("ff2b"),p=r("3840"),l=r("dad6"),m=r("ace7"),d=r("d11d"),b=r("482f");r("62d2");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(f["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.loginForm={username:"admin",password:"admin"},e.config=b["a"],e.imgToken="",e.loading=!1,e}return Object(l["a"])(t,e),Object(u["a"])(t,[{key:"created",value:function(){}},{key:"submitForm",value:function(){var e=this;this.Form.validateFields((function(t,r){return!t&&(e.loading=!0,window.api.login(h({},r)).then((function(t){e.loading=!1;var r=t.data,a=r.resultCode,o=r.resultMessage,n=r.data;0!==a?e.$message.error(o||"未知错误"):(e.$message.success(o),localStorage.setItem("token",n.token),setTimeout((function(){e.$store.dispatch("getUserInfo").then((function(){e.$router.push("/")})).catch((function(t){e.$message.error(t)}))}),200))})).catch((function(t){e.loading=!1,e.$message.error(t.message)})),!0)}))}},{key:"render",value:function(){var e=arguments[0],t=this.Form.getFieldDecorator;return e("div",{class:"loginWrap"},[e("h2",{class:"loginTxt"},["欢迎使用",e("br"),"品贤画室管理平台"]),e("div",{class:"loginForm"},[e("div",{class:"logo"},[e("span",[b["a"].name])]),e("a-form",{ref:"loginForm",on:{submit:this.submitForm}},[e("a-form-item",[t("username",{rules:[{required:!0,message:"请输入用户名字"}]})(e("a-input",{attrs:{id:"username","prefix-icon":"iconfont-user",placeholder:"请输入用户名字"}},[e("a-icon",{slot:"prefix",attrs:{type:"user"}})]))]),e("a-form-item",[t("password",{rules:[{required:!0,message:"请输入密码"}]})(e("a-input",{attrs:{id:"password","prefix-icon":"iconfont-lock",type:"password",placeholder:"请输入密码"},on:{pressEnter:this.submitForm}},[e("a-icon",{slot:"prefix",attrs:{type:"lock"}})]))]),e("a-form-item",[e("a-button",{attrs:{loading:this.loading,type:"primary"},on:{click:this.submitForm}},["Login"])])]),e("div",{class:"tips"},[e("span",["请妥善保管密码"])])])])}}]),t}(d["d"]);m["a"]([Object(d["b"])()],O.prototype,"submitForm",null),O=m["a"]([Object(d["a"])({components:{"a-form":i["a"],"a-form-item":i["a"].Item,"a-button":n["a"],"a-input":o["a"],"a-icon":a["a"]},props:{Form:i["a"]}})],O),t["default"]=i["a"].create({})(O)},"62d2":function(e,t,r){}}]);
//# sourceMappingURL=chunk-19aff9a4.c0112d68.js.map